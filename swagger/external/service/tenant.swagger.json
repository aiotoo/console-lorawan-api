{
  "swagger": "2.0",
  "info": {
    "title": "external/service/tenant.proto",
    "version": "version not set"
  },
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/api/tenant": {
      "post": {
        "summary": "Create a new Tenant.",
        "operationId": "TenantService_Create",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/serviceCreateTenantResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/runtimeError"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/serviceCreateTenantRequest"
            }
          }
        ],
        "tags": [
          "TenantService"
        ]
      }
    },
    "/api/tenant/{id}": {
      "get": {
        "summary": "Get the Tenant for the given ID.",
        "operationId": "TenantService_Get",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/serviceGetTenantResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/runtimeError"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "description": "Tenant ID.",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "TenantService"
        ]
      },
      "delete": {
        "summary": "Delete the Tenant with the given ID.",
        "operationId": "TenantService_Delete",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/runtimeError"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "description": "Tenant ID.",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "TenantService"
        ]
      }
    },
    "/api/tenant/{tenant.id}": {
      "put": {
        "summary": "Update the given Tenant.",
        "operationId": "TenantService_Update",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/runtimeError"
            }
          }
        },
        "parameters": [
          {
            "name": "tenant.id",
            "description": "Tenant ID (UUID).\nNote: this value will be automatically generated on create.",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/serviceUpdateTenantRequest"
            }
          }
        ],
        "tags": [
          "TenantService"
        ]
      }
    },
    "/api/tenants": {
      "get": {
        "summary": "Get the list of Tenants.",
        "operationId": "TenantService_List",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/serviceListTenantsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/runtimeError"
            }
          }
        },
        "parameters": [
          {
            "name": "limit",
            "description": "Max number of Tenants to return in the result-set.",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "offset",
            "description": "Offset in the result-set (for pagination).",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "search",
            "description": "If set, the given string will be used to search on name.",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "userId",
            "description": "If set, filters the result set to the Tenants of the user.\nOnly global API keys are able to filter by this field.",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "TenantService"
        ]
      }
    },
    "/api/tenants/{tenantId}/users": {
      "get": {
        "summary": "Get the list of Tenant users.",
        "operationId": "TenantService_ListUsers",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/serviceListTenantUsersResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/runtimeError"
            }
          }
        },
        "parameters": [
          {
            "name": "tenantId",
            "description": "tenant ID (UUID).",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "limit",
            "description": "Max number of tenants to return in the result-set.",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "offset",
            "description": "Offset in the result-set (for pagination).",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int64"
          }
        ],
        "tags": [
          "TenantService"
        ]
      }
    },
    "/api/tenants/{tenantId}/users/{userId}": {
      "get": {
        "summary": "Get the the Tenant user for the given Tenant and user IDs.",
        "operationId": "TenantService_GetUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/serviceGetTenantUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/runtimeError"
            }
          }
        },
        "parameters": [
          {
            "name": "tenantId",
            "description": "tenant ID (UUID).",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "userId",
            "description": "User ID (UUID).",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "TenantService"
        ]
      },
      "delete": {
        "summary": "Delete the given Tenant user.",
        "operationId": "TenantService_DeleteUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/runtimeError"
            }
          }
        },
        "parameters": [
          {
            "name": "tenantId",
            "description": "tenant ID (UUID).",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "userId",
            "description": "User ID (UUID).",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "TenantService"
        ]
      }
    },
    "/api/tenants/{tenantUser.tenantId}/users": {
      "post": {
        "summary": "Add an user to the Tenant.\nNote: the user must already exist.",
        "operationId": "TenantService_AddUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/runtimeError"
            }
          }
        },
        "parameters": [
          {
            "name": "tenantUser.tenantId",
            "description": "Tenant ID (UUID).",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/serviceAddTenantUserRequest"
            }
          }
        ],
        "tags": [
          "TenantService"
        ]
      }
    },
    "/api/tenants/{tenantUser.tenantId}/users/{tenantUser.userId}": {
      "put": {
        "summary": "Update the given Tenant user.",
        "operationId": "TenantService_UpdateUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/runtimeError"
            }
          }
        },
        "parameters": [
          {
            "name": "tenantUser.tenantId",
            "description": "Tenant ID (UUID).",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "tenantUser.userId",
            "description": "User ID (UUID).",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/serviceUpdateTenantUserRequest"
            }
          }
        ],
        "tags": [
          "TenantService"
        ]
      }
    }
  },
  "definitions": {
    "protobufAny": {
      "type": "object",
      "properties": {
        "typeUrl": {
          "type": "string"
        },
        "value": {
          "type": "string",
          "format": "byte"
        }
      }
    },
    "runtimeError": {
      "type": "object",
      "properties": {
        "error": {
          "type": "string"
        },
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "serviceAddTenantUserRequest": {
      "type": "object",
      "properties": {
        "tenantUser": {
          "$ref": "#/definitions/serviceTenantUser",
          "description": "tenant user object."
        }
      }
    },
    "serviceCreateTenantRequest": {
      "type": "object",
      "properties": {
        "tenant": {
          "$ref": "#/definitions/serviceTenant",
          "description": "Tenant object to create."
        }
      }
    },
    "serviceCreateTenantResponse": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Tenant ID."
        }
      }
    },
    "serviceGetTenantResponse": {
      "type": "object",
      "properties": {
        "tenant": {
          "$ref": "#/definitions/serviceTenant",
          "description": "Tenant object."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Created at timestamp."
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time",
          "description": "Last update timestamp."
        }
      }
    },
    "serviceGetTenantUserResponse": {
      "type": "object",
      "properties": {
        "tenantUser": {
          "$ref": "#/definitions/serviceTenantUser",
          "description": "tenant user object."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Created at timestamp."
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time",
          "description": "Last update timestamp."
        }
      }
    },
    "serviceListTenantUsersResponse": {
      "type": "object",
      "properties": {
        "totalCount": {
          "type": "integer",
          "format": "int64",
          "description": "Total number of tenants."
        },
        "result": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/serviceTenantUserListItem"
          },
          "description": "Result-set."
        }
      }
    },
    "serviceListTenantsResponse": {
      "type": "object",
      "properties": {
        "totalCount": {
          "type": "integer",
          "format": "int64",
          "description": "Total number of Tenants."
        },
        "result": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/serviceTenantListItem"
          },
          "description": "Result-set."
        }
      }
    },
    "serviceTenant": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Tenant ID (UUID).\nNote: this value will be automatically generated on create."
        },
        "name": {
          "type": "string",
          "title": "Tenant name,"
        },
        "description": {
          "type": "string",
          "description": "Tenant description."
        },
        "canHaveGateways": {
          "type": "boolean",
          "title": "Can the Tenant create and \"own\" Gateways?"
        },
        "maxGatewayCount": {
          "type": "integer",
          "format": "int64",
          "description": "Max. gateway count for Tenant.\nWhen set to 0, the Tenant can have unlimited gateways."
        },
        "maxDeviceCount": {
          "type": "integer",
          "format": "int64",
          "description": "Max. device count for Tenant.\nWhen set to 0, the Tenant can have unlimited devices."
        },
        "privateGatewaysUp": {
          "type": "boolean",
          "description": "Private gateways (uplink).\nIf enabled, then uplink messages will not be shared with other Tenants."
        },
        "privateGatewaysDown": {
          "type": "boolean",
          "description": "Private gateways (downlink).\nIf enabled, then other Tenants will not be able to schedule downlink\nmessages through the gateways of this Tenant. For example, in case you\ndo want to share uplinks with other Tenants (private_gateways_up=false),\nbut you want to prevent other Tenants from using gateway airtime."
        },
        "tags": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "description": "Tags (user defined).\nThese tags can be used to add additional information to the Tenant. These\ntags are NOT exposed in the integration events."
        }
      }
    },
    "serviceTenantListItem": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Tenant ID (UUID)."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Created at timestamp."
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time",
          "description": "Last update timestamp."
        },
        "name": {
          "type": "string",
          "description": "Tenant name."
        },
        "canHaveGateways": {
          "type": "boolean",
          "title": "Can the Tenant create and \"own\" Gateways?"
        },
        "privateGatewaysUp": {
          "type": "boolean",
          "description": "Private gateways (uplink)."
        },
        "privateGatewaysDown": {
          "type": "boolean",
          "description": "Private gateways (downlink)."
        },
        "maxGatewayCount": {
          "type": "integer",
          "format": "int64",
          "description": "Max gateway count.\n0 = unlimited."
        },
        "maxDeviceCount": {
          "type": "integer",
          "format": "int64",
          "description": "Max device count.\n0 = unlimited."
        }
      }
    },
    "serviceTenantUser": {
      "type": "object",
      "properties": {
        "tenantId": {
          "type": "string",
          "description": "Tenant ID (UUID)."
        },
        "userId": {
          "type": "string",
          "description": "User ID (UUID)."
        },
        "isAdmin": {
          "type": "boolean",
          "description": "User is admin within the context of the tenant.\nThere is no need to set the is_device_admin and is_gateway_admin flags."
        },
        "isDeviceAdmin": {
          "type": "boolean",
          "description": "User is able to modify device related resources (applications,\ndevice-profiles, devices, multicast-groups)."
        },
        "isGatewayAdmin": {
          "type": "boolean",
          "description": "User is able to modify gateways."
        },
        "email": {
          "type": "string",
          "description": "Email (only used on get and when adding a user to a tenant)."
        }
      }
    },
    "serviceTenantUserListItem": {
      "type": "object",
      "properties": {
        "tenantId": {
          "type": "string",
          "description": "tenant ID (UUID)."
        },
        "userId": {
          "type": "string",
          "description": "User ID (UUID)."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Created at timestamp."
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time",
          "description": "Last update timestamp."
        },
        "email": {
          "type": "string",
          "description": "Email."
        },
        "isAdmin": {
          "type": "boolean",
          "description": "User is admin within the context of the tenant.\nThere is no need to set the is_device_admin and is_gateway_admin flags."
        },
        "isDeviceAdmin": {
          "type": "boolean",
          "description": "User is able to modify device related resources (applications,\ndevice-profiles, devices, multicast-groups)."
        },
        "isGatewayAdmin": {
          "type": "boolean",
          "description": "User is able to modify gateways."
        }
      }
    },
    "serviceUpdateTenantRequest": {
      "type": "object",
      "properties": {
        "tenant": {
          "$ref": "#/definitions/serviceTenant",
          "description": "Tenant object."
        }
      }
    },
    "serviceUpdateTenantUserRequest": {
      "type": "object",
      "properties": {
        "tenantUser": {
          "$ref": "#/definitions/serviceTenantUser",
          "description": "tenant user object."
        }
      }
    }
  }
}
